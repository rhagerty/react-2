{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rlhag\\\\OneDrive\\\\Desktop\\\\Coding Pt 2\\\\react-2\\\\snack-or-booze\\\\src\\\\MenuForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport axios from \"axios\";\n\nfunction MenuForm() {\n  const {\n    item\n  } = useParams();\n  const [newItem, setNewItem] = useState({\n    id: '',\n    name: '',\n    description: '',\n    recipe: '',\n    serve: ''\n  });\n  const history = useHistory();\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewItem(newItem => ({ // use spread to keep all existing data from parent component, adding new data to state object\n      ...newItem,\n      [name]: value\n    }));\n  }\n\n  useEffect(() => {\n    async function storeItem(obj) {\n      try {\n        await axios.post(`http://localhost:5000/${item}s`, {\n          // passing in q as a param for the query searchTerm\n          params: {\n            obj\n          }\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    ; // this will run on initial render and whenever name changes\n  }, [newItem]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    storeItem(newItem); // redirect with history.push and the path\n    // after the email form is submitted it redirects to the root\n    // can also go back and forward unlike redirect\n\n    history.push('/');\n  }\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Add a new \", item, \"!\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Item Name\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    value: itemName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"Short description\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"description\",\n    id: \"description\",\n    onChange: handleChange,\n    placeholder: \"An ice-cold, refreshing classic.\",\n    value: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"recipe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Recipe\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    name: \"recipe\",\n    id: \"recipe\",\n    onChange: handleChange,\n    placeholder: \"Mix 3 parts vodka & 1 part dry vermouth.\",\n    value: recipe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"serve\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"How should this be served?\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    name: \"serve\",\n    id: \"serve\",\n    onChange: handleChange,\n    placeholder: \"Serve very cold, straight up.\",\n    value: serve,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n}\n\nexport default MenuForm;","map":{"version":3,"sources":["C:/Users/rlhag/OneDrive/Desktop/Coding Pt 2/react-2/snack-or-booze/src/MenuForm.js"],"names":["React","useState","useEffect","useParams","useHistory","Button","Form","FormGroup","Label","Input","axios","MenuForm","item","newItem","setNewItem","id","name","description","recipe","serve","history","handleChange","e","value","target","storeItem","obj","post","params","console","log","handleSubmit","evt","preventDefault","push","itemName"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { Button, Form, FormGroup, Label, Input} from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nfunction MenuForm() {\r\n  const { item } = useParams();\r\n  const [newItem, setNewItem] = useState({\r\n    id: '',\r\n    name: '',\r\n    description: '',\r\n    recipe: '',\r\n    serve: ''\r\n  });\r\n  const history = useHistory();\r\n  \r\n\r\n  function handleChange(e) {\r\n   const {name, value} = e.target;\r\n   setNewItem(newItem => ({\r\n    // use spread to keep all existing data from parent component, adding new data to state object\r\n    ...newItem,\r\n    [name]: value\r\n  }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function storeItem(obj) {\r\n      try {\r\n        await axios.post(`http://localhost:5000/${item}s`, {\r\n          // passing in q as a param for the query searchTerm\r\n          params: { obj}\r\n        });\r\n      }\r\n      catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    ;\r\n    // this will run on initial render and whenever name changes\r\n  }, [newItem]);\r\n \r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    \r\n    storeItem(newItem);\r\n    // redirect with history.push and the path\r\n    // after the email form is submitted it redirects to the root\r\n    // can also go back and forward unlike redirect\r\n    history.push('/')\r\n  }\r\n\r\n\r\n  return (\r\n    <section>\r\n        <h2>Add a new {item}!</h2>\r\n      <Form onSubmit={handleSubmit}>\r\n        <FormGroup>\r\n          <Label for=\"name\">Item Name</Label>\r\n          <Input type=\"text\" name=\"name\" id=\"name\" value={itemName} />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"description\">Short description</Label>\r\n          <Input type=\"text\" name=\"description\" id=\"description\" onChange={handleChange} placeholder=\"An ice-cold, refreshing classic.\" value={description}/>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"recipe\">Recipe</Label>\r\n          <Input type=\"textarea\" name=\"recipe\" id=\"recipe\" onChange={handleChange} placeholder=\"Mix 3 parts vodka & 1 part dry vermouth.\" value={recipe}/>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"serve\">How should this be served?</Label>\r\n          <Input type=\"textarea\" name=\"serve\" id=\"serve\" onChange={handleChange} placeholder=\"Serve very cold, straight up.\" value={serve}/>\r\n        </FormGroup>\r\n        <Button>Submit</Button>\r\n      </Form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MenuForm;\r\n"]},"metadata":{},"sourceType":"module"}